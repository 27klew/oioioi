{% extends "problems/problemset/base.html" %}
{% load i18n %}
{% load staticfiles %}

{% block title %}{{ problem }} - {% trans "Problemset" %}{% endblock %}

{% block main_content %}

    <div class="problem-title text-center content-row">
        <h1>{{ problem }}</h1>
        {% if show_proposal_form %}
            <div class="icon-container">
                <span id="open-form" type="button" class="glyphicon glyphicon-exclamation-sign tagform-icon clickable" data-toggle="modal"
                      data-target="#tag-form"></span>
            </div>
        {% endif %}
    </div>

    {% include "problems/ingredients/tag-form.html" %}

    <ul class="nav nav-tabs">
        {% for tab in tabs %}
            {% if tab.obj.key != "secret_key" or problem.visibility != problem.VISIBILITY_PUBLIC %}
                {% if tab.obj.key != 'settings' or can_admin_problem %}
                    {% if tab.obj.key != 'add_to_contest' %}
                        <li {% if tab.obj == current_tab %}class="active"{% endif %}>
                            <a href="{{ tab.link }}">{{ tab.obj.title }}</a>
                        </li>
                    {% elif show_add_button and not can_admin_problem %}
                        <li {% if tab.obj == current_tab %}class="active"{% endif %}>
                            <a href="{{ tab.link }}">{{ tab.obj.title }}</a>
                        </li>
                    {% endif %}
                {% endif %}
            {% endif %}
        {% endfor %}
    </ul>
    <div class="nav-content">
        {{ content }}
    </div>

    <form id="add_to_contest" method="post" class="hidden">
        {% csrf_token %}
        <input id="url_key" name="url_key" type="hidden">
    </form>

    <script type="text/javascript" src="{{ STATIC_URL }}problems/problemset/add-to-contest.js"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}problems/problemset/tag-form.js"></script>

{% endblock %}
